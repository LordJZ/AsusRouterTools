#include "iboxcomh_piece.h"

#define RES_LOST_MARK "LOST"

enum ExecCmdFlags
{
	EC_FLAG_NOFLAG	= 0,
	EC_FLAG_VERBOSE = 1,
	EC_FLAG_RESONLY = 2,
	EC_FLAG_SILENT	= 4
};

BOOL verifyCmdSizeOK(int cmdLen);
BOOL setupNetworking(char* targetIP, SOCKET* sock, SOCKADDR_IN* localAddr, SOCKADDR_IN* targetAddr);
char* getResponse(IBOX_COMM_PKT_HDR_EX* phdr_ex, SOCKET sock, SOCKADDR_IN* targetAddr, int timeout_ms, int ec_flags);
char* execSysCmd(char* cmdline, SOCKET sock, SOCKADDR_IN* targetAddr, int timeout_ms, int ec_flags);